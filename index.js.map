{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ИНИЦИАЛИЗАЦИЯ ---\n    lucide.createIcons();\n    gsap.registerPlugin(ScrollTrigger);\n\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true,\n        touchMultiplier: 2,\n    });\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    // --- 2. МОБИЛЬНОЕ МЕНЮ ---\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const links = document.querySelectorAll('.header__link');\n    const body = document.body;\n\n    const toggleMenu = () => {\n        const isActive = burger.classList.toggle('is-active');\n        nav.classList.toggle('is-active');\n        if (isActive) { lenis.stop(); body.style.overflow = 'hidden'; } \n        else { lenis.start(); body.style.overflow = ''; }\n    };\n\n    if(burger) burger.addEventListener('click', toggleMenu);\n    links.forEach(l => l.addEventListener('click', () => {\n        if(nav.classList.contains('is-active')) toggleMenu();\n    }));\n\n    // --- 3. АНИМАЦИИ ---\n    const heroTl = gsap.timeline({ delay: 0.1 });\n    heroTl.to('.hero .reveal-hidden', {\n        y: 0, opacity: 1, autoAlpha: 1,\n        duration: 0.8, stagger: 0.1, ease: 'power2.out'\n    });\n\n    const hiddenElements = document.querySelectorAll('.section .reveal-hidden');\n    ScrollTrigger.batch(hiddenElements, {\n        start: 'top 85%',\n        onEnter: batch => gsap.to(batch, {\n            opacity: 1, y: 0, autoAlpha: 1,\n            stagger: 0.15, duration: 0.8, ease: 'power3.out', overwrite: true\n        }),\n        once: true\n    });\n\n    const cards = document.querySelectorAll('.reveal-card');\n    if (cards.length > 0) {\n        ScrollTrigger.batch(cards, {\n            start: 'top 90%',\n            onEnter: batch => gsap.fromTo(batch, \n                { opacity: 0, y: 50, scale: 0.95 },\n                { opacity: 1, y: 0, scale: 1, autoAlpha: 1, stagger: 0.15, duration: 0.6, ease: 'back.out(1.2)' }\n            ),\n            once: true\n        });\n    }\n\n    // --- 4. КОНТАКТНАЯ ФОРМА ---\n    const contactForm = document.getElementById('contactForm');\n    const captchaSpan = document.getElementById('captchaQuestion');\n    const captchaInput = document.getElementById('captcha');\n    const phoneInput = document.getElementById('phone');\n    const successMsg = document.getElementById('successMessage');\n\n    if (contactForm) {\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        captchaSpan.textContent = `${num1} + ${num2}`;\n        const correctAnswer = num1 + num2;\n\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                alert('Неверный ответ в капче! Попробуйте снова.');\n                return;\n            }\n            const btn = contactForm.querySelector('button[type=\"submit\"]');\n            btn.innerText = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                contactForm.style.display = 'none';\n                successMsg.style.display = 'block';\n                gsap.from(successMsg, { y: 20, opacity: 0, duration: 0.5, ease: 'power2.out' });\n            }, 1500);\n        });\n    }\n\n    // --- 5. COOKIE POPUP (Новый блок) ---\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n    \n    // Проверка, было ли уже принято согласие\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        // Показываем с задержкой 2 секунды\n        gsap.to(cookiePopup, {\n            y: 0,\n            duration: 0.8,\n            delay: 2,\n            ease: 'power3.out'\n        });\n    }\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            // Сохраняем согласие\n            localStorage.setItem('cookiesAccepted', 'true');\n            // Скрываем попап\n            gsap.to(cookiePopup, {\n                y: 200, // Уводим вниз\n                opacity: 0,\n                duration: 0.6,\n                ease: 'power2.in'\n            });\n        });\n    }\n\n    console.log('System ready with Cookies');\n});"],"names":["lenis","t","raf","time","burger","nav","links","body","toggleMenu","isActive","l","hiddenElements","batch","cards","contactForm","captchaSpan","captchaInput","phoneInput","successMsg","num1","num2","correctAnswer","e","btn","cookiePopup","acceptBtn"],"mappings":"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"}